<%layout('boilerplate')%>
<title>SHOW</title>
<div class="overlay hidden"></div>

<h6 style="display:inline;color:white; margin-left:15px; ">Hello,</h6><h3 style="display:inline;color:white;"><%=user.username%> </h3>
   <section class="right">
            <form action="/logout" method="GET"><button class='logoutBtn'>LOGOUT</button></form>
            <div class="circleBox" style="margin:29px;"> 
                <div class="circle" style="background-color:white;height:50px;width:50px;border-radius:100%;"></div>
                <h6 style="color:white;margin-top:15px;margin-left:7px;"><%=user.username%> </h6>
            </div>
            <form action="/home" method="GET"><button style="top:210px;" class="addBtn util-up">HOME</button></form> 
            <% if (user.username=='admin'){ %>  
            <form action="/additem" method="GET"><button class="addBtn">ADD ITEM</button></form>
            <%}else{%>
                <form action="/myBag" method="GET">
                    <button class="addBtn" ><var style="font-style:normal;">MY BAG<sup class="supersript">    <%=user.userarr.length%></sup></var></button>
                </form> 
                <%}%>
        </section>


 <div class='containerOuter'>


<div class="arrow-box">
    <form method="GET" action="/home"><button class="backBtn" ></button>  </form> 
<div class="arrow"></div>
</div>
<h6 class="arrow-text" >ITEM DETAILS </h6>


    <div class="img" style="background-image:url('<%=item.url%>');"> </div>
<h6 class="name"><%=item.itemname%> </h6>
<h6 class="mname">By <%=item.manufacturerName%> </h6>



<div class="star-box">
<div class="star     <%=item.rating >= 1? `lightUp`:''%>     "></div>
<div class="star      <%=item.rating >= 2? `lightUp`:''%>    "></div>
<div class="star      <%=item.rating >= 3? `lightUp`:''%>    "></div>
<div class="star      <%=item.rating >= 4? `lightUp`:''%>    "></div>
<div class="star      <%=item.rating >= 5? `lightUp`:''%>    "></div>
</div>
   

<h2 class="priceTag">$<%=item.price%> </h2>
<div class="about" ><h5 style="color:white;">ABOUT ITEMS  </h5><span style="color:white;"><%=item.about%></span></div>


<% if (user.username=='admin'){ %>  


<div class="edit-box">
    <form action="/updateitem/<%=item._id%>" method="GET"><button class="editBtn"></button></form>
<div class="edit"></div>
</div>

<div class="delete-box">
   <button class="deleteBtn show"></button>
<div class="delete"></div>
</div>



<% }else{%>
    
    <form action="/buy" class='form' method="POST" >
        <button name="itemid" value="<%=itemIterator._id%>" class='btns' onclick="getId(this)" name="<%itemIterator.itemname%>"><div class="btnImg"> </div>BUY</button>
    </form>  

      
   
<% } %>  

</div>
<div class="popup hidden">
    <h4 class="popup-h1 primary">CONFIRM DELETE<h6 class="popup-h1 secondary">Deleting this item will remove all its traces from the system and cannot be rolled back. Do you really wish to delete this item? </h6></h4>
    <button class="close-modal btns blk" style="background-color:black;">CANCEL</button>
    <form method="POST" action="/deleteitem/<%=item._id%>?_method=DELETE" ><button class="deleteInPop" >DELETE</button></form> 
</div>



<script>

const popup=document.querySelector('.popup');
const overlay=document.querySelector('.overlay');
const show=document.querySelector('.show');
const closeModal=document.querySelector('.close-modal');
show.addEventListener('click',function()
      {console.log('popup open Button Clicked');
        popup.classList.remove('hidden');
        overlay.classList.remove('hidden');
      });
closeModal.addEventListener('click',function()
      {console.log('cancel Button Clicked');
        popup.classList.add('hidden');
        overlay.classList.add('hidden');
      });



</script>
<style>

.btns
{
    background-color:#237DB6;
    border-radius:30px;
   
    display:flex;
    justify-content:center;
    align-items:center;
  
    border-color:transparent;
    color:white;
    height:30px;
    width:110px;
    position:absolute;
    top:45%; left:20%;
}
.btnImg
    {
        background-image:url('https://github.com/john-fermadez/step-images/blob/main/assets/Icons/shopping-bag.png?raw=true');
        /* background-color:white; */
        width:15px;
        height:15px;
        transform:translateX(-200%);
       display:absolute;
        background-size:contain;
      position:absolute;
    }

     .supersript
    {
        background-color:#EF7D21;
        border-radius:100%;
        width:15px;
        height:15px;
        position:absolute;
        display:flex;
        flex-direction:row;
        justify-content:center;
        align-items:center;
        left:100%;
    }
.hidden
{
    display:none;
}



.overlay
{position:fixed;
    
     width:100%;
     z-index:1;
    height:100%;
    background-color:rgba(0,0,0,0.6);
    backdrop-filter:blur(3px);
}
.popup
{
    background-color: white;
   position:absolute;
top:40%;
left:45%;
transform:translateX(-50%);
    width: 500px;
    height:210px;
   
   z-index:2;
   
    /* top:140px; */
    border-radius:0px 17px 0px 0px;
}
.primary
{
 margin-left:10px;
 margin-top:20px;
}
.secondary
{
    color:#707070;
    margin-left:10px;
}
.deleteInPop
{
    background-color:#237DB6;
    border-radius:30px;
    border-color:transparent;
    color:white;
    padding:4px 35px;
   position:absolute;
top:75%;left:10%;
}
.blk
{
    background-color:black;
    text-decoration:none;
    position:absolute;
    top:69%;left:30%;
}
.blk:hover
{
color:white;
}
    .arrow-box{
         position:relative;
        background-color:black;
         width:35px;
         height:35px;
         display:flex;
         flex-direction:row;
         justify-content:center;
         align-items:center;
         border-radius:100%;
         left: 6%;top: 6%;
         
    }
    .backBtn
    {
        width: 100%;
        top:0%;
        bottom:0%;
        left:0%;
        right:0%;
        z-index:4;
        border:none;
        height:100%;
        position:absolute;
        background-color:transparent;
        border-radius:100%;
    }
    .edit-box
    {
        position:absolute;
        left:80%;
        top:17%;
        background-color:black;
         width:35px;
         height:35px;
         display:flex;
         flex-direction:row;
         justify-content:center;
         align-items:center;
         border-radius:100%;
         
    }
    .editBtn
    {
        width: 100%;
        top:0%;
        bottom:0%;
        left:0%;
        right:0%;
        z-index:4;
        border:none;
        height:100%;
        position:absolute;
        border-radius:100%;
        background-color:transparent;
        
    }
    .edit
    {
        background-image:url("https://github.com/john-fermadez/step-images/blob/main/assets/Icons/pencil.png?raw=true");
   background-size:cover;
      position:absolute;
    
   width:50%;
   height:50%;
    }
    .delete-box
    {
        position:absolute;
        left:80%;
        top:26%;
        background-color:black;
         width:35px;
         height:35px;
         display:flex;
         flex-direction:row;
         justify-content:center;
         align-items:center;
         border-radius:100%;
         
    }
    .deleteBtn
    {
        width: 100%;
        top:0%;
        bottom:0%;
        left:0%;
        right:0%;
        z-index:4;
        border:none;
        height:100%;
        position:absolute;
        border-radius:100%;
        background-color:transparent;
        
    }
    .delete
    {
        background-image:url("https://github.com/john-fermadez/step-images/blob/main/assets/Icons/delete.png?raw=true");
   background-size:cover;
      position:absolute;
   width:50%;
   height:50%;
    }
    .arrow
    {
   background-image:url("https://github.com/john-fermadez/step-images/blob/main/assets/Icons/left-arrow.png?raw=true");
   background-size:cover;
      position:absolute;
   width:50%;
   height:50%;
  
    }
    .arrow-text
    {
        font-size:18px;
      color:white;
       font-weight:500;
        position:absolute;
        left: 11%;top: 7%;
    }
    .img
{
    width:155px;
    height: 180px;
    position:relative;
    top:15%; left:6%;
    border-radius:0px 10px 0px 0px;
    background-size:cover;
}
.name
{
font-size:20px;
color:white;
font-weight:600;
position:absolute;
top:20%; left:25%;
}
.mname
{
    font-size:18px;
color:white;
font-weight:500;
top:26%; left:25%;
position:absolute;
}
.star-box
{
    position:absolute;
   background-color:transparent;
   width:200px;
   height:35px;
   top:30%; left:24%;
   display:flex;
   flex-direction:row;
   justify-content:space-around;
   align-items:center;
}
.star
{
background-color:white;
height:17px;
width:17px;
border-radius:100%;
}
.lightUp
{
    background-color:#EF7D21;
}
.priceTag
{
    width:67px;
    height:30px;
    background-color:black;
    text-align:center;
    top:38%; left:25%;
    font-size:25px;
    border-radius:0px 8px 0px 0px;
    position:absolute;
    color:#BED331;
  
}

.about
{
font-size:13px;
color:white;
font-weight:300;
position:absolute;
top:60%; left:6%;
}

.delete
{
    position:absolute;
  
  
}

    .right {
        height:100%;
        bottom:0px;
        left:20px;
        width:19%;
        background-color:#000000;
       position:absolute;
      left:81%;
        
    }
    .btns
    {
        background-color:#237DB6;
        border-radius:30px;
        border-color:transparent;
        color:white;
        padding:4px 35px;
        margin-top:14px;
        margin-left:40px;
    
    }
    
    .containerOuter
    { 
        background-color:rgba(0, 0, 0, 0.5);
       backdrop-filter: blur(0px);
       border-radius:0 0 7px 7px;
       margin-left:0px;
        width:78%;
        position:relative;
      
        border-radius:0px 16px 0px 0px;
        height:94vh;
        margin-top:0px;
        
      
    }
    .addBtn
    {
        position:absolute;
        left:9%;
        top:260px;
       
        background-color:transparent;
        color:white;
       border:none;
    }
    .logoutBtn
    {
        position:absolute;
        left:100%;
        top:4px;
        transform:translateX(-100%);
        background-color:transparent;
        color:white;
       border:none;
    }
    body
    {
    background-image:url('https://raw.githubusercontent.com/john-fermadez/project/main/assets/background-images/admin.jpg');
     background-position:center;
     background-size:cover;
    
    }
  
  
    
    </style>